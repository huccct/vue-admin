import{o as J,aE as G,a9 as Q,ap as q,a as I,ao as Z,a3 as O,av as _,c as M,f as E,s as X,j as R,q as b,n as f,k as e,t as x,y as A,w as v,g as U,m as ee,E as oe,p as j,l as K,_ as V,C as se,a8 as te,az as H,a1 as ae,r as N,a2 as ne,h as le,bn as re,as as ie,ar as de,v as ce,z as ue,bo as me,a6 as fe}from"./index-5bef0582.js";import{d as pe,a as ge,b as ve,c as be,u as he,E as ye,e as Ce}from"./el-overlay-68a79402.js";import{c as Ee}from"./refs-8cd534d9.js";const ke=(r,i,d)=>{let h={offsetX:0,offsetY:0};const a=t=>{const g=t.clientX,C=t.clientY,{offsetX:c,offsetY:u}=h,s=r.value.getBoundingClientRect(),m=s.left,k=s.top,T=s.width,S=s.height,F=document.documentElement.clientWidth,$=document.documentElement.clientHeight,B=-m+c,Y=-k+u,z=F-m-T+c,P=$-k-S+u,D=L=>{const o=Math.min(Math.max(c+L.clientX-g,B),z),l=Math.min(Math.max(u+L.clientY-C,Y),P);h={offsetX:o,offsetY:l},r.value.style.transform=`translate(${q(o)}, ${q(l)})`},n=()=>{document.removeEventListener("mousemove",D),document.removeEventListener("mouseup",n)};document.addEventListener("mousemove",D),document.addEventListener("mouseup",n)},p=()=>{i.value&&r.value&&i.value.addEventListener("mousedown",a)},y=()=>{i.value&&r.value&&i.value.removeEventListener("mousedown",a)};J(()=>{G(()=>{d.value?p():y()})}),Q(()=>{y()})},W=Symbol("dialogInjectionKey"),we=["aria-label"],$e=["id"],De=I({name:"ElDialogContent"}),Le=I({...De,props:pe,emits:ge,setup(r){const i=r,{t:d}=Z(),{Close:h}=se,{dialogRef:a,headerRef:p,bodyId:y,ns:t,style:g}=O(W),{focusTrapRef:C}=O(_),c=Ee(C,a),u=M(()=>i.draggable);return ke(a,p,u),(s,m)=>(E(),X("div",{ref:e(c),class:f([e(t).b(),e(t).is("fullscreen",s.fullscreen),e(t).is("draggable",e(u)),e(t).is("align-center",s.alignCenter),{[e(t).m("center")]:s.center},s.customClass]),style:K(e(g)),tabindex:"-1"},[R("header",{ref_key:"headerRef",ref:p,class:f(e(t).e("header"))},[b(s.$slots,"header",{},()=>[R("span",{role:"heading",class:f(e(t).e("title"))},x(s.title),3)]),s.showClose?(E(),X("button",{key:0,"aria-label":e(d)("el.dialog.close"),class:f(e(t).e("headerbtn")),type:"button",onClick:m[0]||(m[0]=k=>s.$emit("close"))},[A(e(oe),{class:f(e(t).e("close"))},{default:v(()=>[(E(),U(ee(s.closeIcon||e(h))))]),_:1},8,["class"])],10,we)):j("v-if",!0)],2),R("div",{id:e(y),class:f(e(t).e("body"))},[b(s.$slots,"default")],10,$e),s.$slots.footer?(E(),X("footer",{key:0,class:f(e(t).e("footer"))},[b(s.$slots,"footer")],2)):j("v-if",!0)],6))}});var Me=V(Le,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const Re=["aria-label","aria-labelledby","aria-describedby"],Ae=I({name:"ElDialog",inheritAttrs:!1}),Ie=I({...Ae,props:ve,emits:be,setup(r,{expose:i}){const d=r,h=te();H({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},M(()=>!!h.title)),H({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},M(()=>!!d.customClass));const a=ae("dialog"),p=N(),y=N(),t=N(),{visible:g,titleId:C,bodyId:c,style:u,overlayDialogStyle:s,rendered:m,zIndex:k,afterEnter:T,afterLeave:S,beforeLeave:F,handleClose:$,onModalClick:B,onOpenAutoFocus:Y,onCloseAutoFocus:z,onCloseRequested:P,onFocusoutPrevented:D}=he(d,p);ne(W,{dialogRef:p,headerRef:y,bodyId:c,ns:a,rendered:m,style:u});const n=Ce(B),L=M(()=>d.draggable&&!d.fullscreen);return i({visible:g,dialogContentRef:t}),(o,l)=>(E(),U(me,{to:"body",disabled:!o.appendToBody},[A(ue,{name:"dialog-fade",onAfterEnter:e(T),onAfterLeave:e(S),onBeforeLeave:e(F),persisted:""},{default:v(()=>[le(A(e(ye),{"custom-mask-event":"",mask:o.modal,"overlay-class":o.modalClass,"z-index":e(k)},{default:v(()=>[R("div",{role:"dialog","aria-modal":"true","aria-label":o.title||void 0,"aria-labelledby":o.title?void 0:e(C),"aria-describedby":e(c),class:f(`${e(a).namespace.value}-overlay-dialog`),style:K(e(s)),onClick:l[0]||(l[0]=(...w)=>e(n).onClick&&e(n).onClick(...w)),onMousedown:l[1]||(l[1]=(...w)=>e(n).onMousedown&&e(n).onMousedown(...w)),onMouseup:l[2]||(l[2]=(...w)=>e(n).onMouseup&&e(n).onMouseup(...w))},[A(e(re),{loop:"",trapped:e(g),"focus-start-el":"container",onFocusAfterTrapped:e(Y),onFocusAfterReleased:e(z),onFocusoutPrevented:e(D),onReleaseRequested:e(P)},{default:v(()=>[e(m)?(E(),U(Me,ie({key:0,ref_key:"dialogContentRef",ref:t},o.$attrs,{"custom-class":o.customClass,center:o.center,"align-center":o.alignCenter,"close-icon":o.closeIcon,draggable:e(L),fullscreen:o.fullscreen,"show-close":o.showClose,title:o.title,onClose:e($)}),de({header:v(()=>[o.$slots.title?b(o.$slots,"title",{key:1}):b(o.$slots,"header",{key:0,close:e($),titleId:e(C),titleClass:e(a).e("title")})]),default:v(()=>[b(o.$slots,"default")]),_:2},[o.$slots.footer?{name:"footer",fn:v(()=>[b(o.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","onClose"])):j("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,Re)]),_:3},8,["mask","overlay-class","z-index"]),[[ce,e(g)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var Te=V(Ie,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const Ye=fe(Te);export{Ye as E};
